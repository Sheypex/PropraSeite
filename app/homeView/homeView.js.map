{
  "version": 3,
  "file": "homeView.js",
  "sourceRoot": "",
  "sources": [
    "homeView.coffee"
  ],
  "names": [],
  "mappings": "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",
  "sourcesContent": [
    "#'use strict'\r\n\r\nangular.module('myApp.homeView', ['ngRoute'])\r\n  .config(['$routeProvider', ($routeProvider) ->\r\n    $routeProvider.when '/', {\r\n      templateUrl: 'homeView/homeView.html',\r\n      controller: 'View1Ctrl'\r\n    }\r\n])\r\n  .controller('View1Ctrl', [\"$scope\", ($scope) ->\r\n    $scope.topics = [\"Trump\", \"Klimawandel\", \"FakeNews\"]\r\n    $scope.topic = $scope.topics[0]\r\n    $scope.selectTopic = (topic) ->\r\n      $scope.topic = topic\r\n      updateGraphs($scope.topic)\r\n      console.log topic\r\n    #\r\n    $scope.userEmail = \"\"\r\n    $scope.sendEmail = () ->\r\n      sendEmail($scope.userEmail)\r\n    #\r\n    updateGraphs($scope.topic)\r\n])\r\n\r\nsendEmail = (userEmail) ->\r\n  console.log userEmail\r\n\r\nupdateGraphs = (topic) ->\r\n  url = \"http://localhost:8080/test?search=#{topic}&type=1\"\r\n\r\n  fetch(url, {mode: \"no-cors\"})\r\n    .then((response) ->\r\n      response.json())\r\n    .then((result) ->\r\n      console.log('success:', result)\r\n      ###div = document.getElementById('test')\r\n      div.innerHTML = \"title: #{result.title}<br/>message: #{result.message}\"###\r\n      separateData(result)\r\n    )\r\n    .catch((error) ->\r\n      console.log('error:', error)\r\n    )\r\n\r\ngetDateFormat = (date) ->\r\n  return date.getFullYear() + \"-\" + checkDateLength(date.getMonth() + 1) + \"-\" + checkDateLength(date.getDate()) + \" \" + checkDateLength(date.getHours()) + \":\" + checkDateLength(date.getMinutes()) + \":\" + checkDateLength(date.getSeconds())\r\n\r\ncheckDateLength = (dateLength) ->\r\n  if (dateLength < 10) then return \"0\" + dateLength else return dateLength\r\n\r\nplotTerm = (xData, yData, graphName, xName, yName, type) ->\r\n  trace1 = {\r\n    x: xData,\r\n    y: yData,\r\n    type: 'line',\r\n    name: graphName\r\n  }\r\n  layout = {\r\n    title: {\r\n    },\r\n    xaxis: {\r\n      title: {\r\n        text: xName,\r\n        font: {\r\n          family: 'Courier New, monospace',\r\n          size: 18,\r\n          color: '#7f7f7f'\r\n        }\r\n      },\r\n    },\r\n    yaxis: {\r\n      title: {\r\n        text: yName,\r\n        font: {\r\n          family: 'Courier New, monospace',\r\n          size: 18,\r\n          color: '#7f7f7f'\r\n        }\r\n      }\r\n    }\r\n  }\r\n  termData = [trace1]\r\n  Plotly.newPlot(type, termData, layout)\r\n\r\nplotBubbleChart = (xData, yData, hashtags, size, type) ->\r\n  trace1 = {\r\n    x: xData,\r\n    y: yData,\r\n    text: hashtags,\r\n    mode: 'markers+text',\r\n    textposition: 'center',\r\n    marker: {\r\n      size: size,\r\n    }\r\n  }\r\n  data = [trace1]\r\n  layout = {\r\n    colorway: ['#0497f3', 'rgba(34,28,28,0.82)'],\r\n    showlegend: false,\r\n    font: {\r\n      family: 'Courier New, monospace',\r\n      size: 15,\r\n      color: '#222222'\r\n    },\r\n    xaxis: {\r\n      autorange: true,\r\n      showgrid: false,\r\n      zeroline: false,\r\n      showline: false,\r\n      autotick: false,\r\n      ticks: '',\r\n      showticklabels: false\r\n    },\r\n    yaxis: {\r\n      autorange: true,\r\n      showgrid: false,\r\n      zeroline: true,\r\n      showline: true,\r\n      autotick: true,\r\n      ticks: '',\r\n      showticklabels: true\r\n    }\r\n  }\r\n  Plotly.newPlot(type, data, layout)\r\n\r\n\r\nloadData = (jsonString = \"{\\\"result\\\":{\\\"term\\\":{\\\"1558213200000\\\":16896,\\\"1558216800000\\\":1,\\\"1558220400000\\\":0,\\\"1558224000000\\\":0,\\\"1558227600000\\\":1,\\\"1558231200000\\\":0,\\\"1558234800000\\\":0,\\\"1558238400000\\\":0,\\\"1558242000000\\\":0,\\\"1558245600000\\\":0,\\\"1558249200000\\\":0,\\\"1558252800000\\\":0,\\\"1558256400000\\\":0,\\\"1558260000000\\\":0,\\\"1558263600000\\\":193},\\\"counted\\\":[[\\\"#BREAKING\\\",5],[\\\"#moms\\\",6],[\\\"#EEUU\\\",6],[\\\"#toddlers\\\",6],[\\\"#MAGAmemes\\\",7],[\\\"#maga\\\",7],[\\\"#WAKEUPAMERICA\\\",8],[\\\"#RT\\\",13],[\\\"#trump\\\",14],[\\\"#FAUXnews\\\",14],[\\\"#ccot\\\",17],[\\\"#tcot\\\",30],[\\\"#kag\\\",33],[\\\"#NATO\\\",35]],\\\"topuser\\\":[[\\\"bettyblack176\\\",11],[\\\"all_sabrina\\\",11],[\\\"MaryFabulous3\\\",11],[\\\"lpbrown7\\\",12],[\\\"AmericanMom2\\\",12],[\\\"ProfSchlitzo7\\\",12],[\\\"Pasha_Enrik\\\",12],[\\\"trilingual1946\\\",12],[\\\"FLpalmtree1\\\",12],[\\\"minamoradi2020\\\",12],[\\\"BarleyFields1\\\",12],[\\\"AJHolland01\\\",13],[\\\"sueludad\\\",13],[\\\"spooner_lindsay\\\",13],[\\\"rawlings_cindy\\\",13],[\\\"Sekusa1\\\",13],[\\\"atypicalblonde\\\",14],[\\\"Pissed_Woman\\\",14],[\\\"JeffreyHardin15\\\",14],[\\\"kathy_levy\\\",15],[\\\"primfreak\\\",15],[\\\"gnod111\\\",16],[\\\"SearchingForTr9\\\",16],[\\\"Eyerish13\\\",16],[\\\"GymCoachMac\\\",17]],\\\"sentiment\\\":[{\\\"Tweet_ID\\\": 1.1292963741497016e+18, \\\"Sentiment\\\": 0.75, \\\"Time\\\": \\\"2019-05-17 10:03:31\\\"},{\\\"Tweet_ID\\\": 1.129296389337432e+18, \\\"Sentiment\\\": 0.0, \\\"Time\\\": \\\"2019-05-17 10:03:35\\\"}]}}\") ->\r\n  return JSON.parse(jsonString)\r\n\r\nseparateData = (data) ->\r\n  # terms Data\r\n  termsData = data.result.term\r\n  xTerm = []\r\n  yTerm = []\r\n  Object.keys(termsData).forEach((key) ->\r\n    xDate = new Date(parseFloat(key))\r\n    xTerm.push(getDateFormat(xDate))\r\n    yTerm.push(termsData[key])\r\n  )\r\n\r\n  # counted Data\r\n  countedData = data.result.counted\r\n  count = 1\r\n  xCounted = []\r\n  yCounted = []\r\n  hashtags = []\r\n  size = []\r\n  Object.keys(countedData).forEach((key) ->\r\n    xCounted.push(count++)\r\n    yCounted.push(countedData[key][1])\r\n    size.push(countedData[key][1] * 4)\r\n    hashtags.push(countedData[key][0])\r\n  )\r\n\r\n  # topUser Data\r\n  topUserData = data.result.topuser\r\n  count = 1\r\n  xTopUser = []\r\n  yTopUser = []\r\n  topUser = []\r\n  size2 = []\r\n  Object.keys(topUserData).forEach((key) ->\r\n    xTopUser.push(count++)\r\n    yTopUser.push(topUserData[key][1])\r\n    size2.push(topUserData[key][1] * 4)\r\n    topUser.push(topUserData[key][0])\r\n  )\r\n\r\n  # Sentiment Data\r\n  sentimentsData = data.result.sentiment\r\n  xSentiment = []\r\n  ySentiment = []\r\n  sentimentsData.forEach((element) ->\r\n    xSentiment.push(element.Time)\r\n    ySentiment.push(element.Sentiment)\r\n  )\r\n\r\n  # plot all the data  and visualize it\r\n  plotTerm(xTerm, yTerm, 'Tweets Loaded', 'Dates', 'Number of Tweets', 'term')\r\n  plotTerm(xSentiment, ySentiment, \"Sentiment Analisis\", \"Dates\", \"Sentiment\", \"sentiment\")\r\n  plotBubbleChart(xCounted, yCounted, hashtags, size, \"counted\")\r\n  plotBubbleChart(xTopUser, yTopUser, topUser, size2, \"topuser\")\r\n\r\n"
  ]
}